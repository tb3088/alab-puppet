---
version: 5

defaults:
  data_hash: yaml_data
  datadir: hieradata
#backends:
# - yaml
# - eyaml
# key_id: , aws_region

hierarchy:
  # - name: "encrypted"
    # lookup_key: eyaml_lookup_key
    # paths:
      # - "secrets/nodes/%{trusted.certname}.eyaml"  # Include explicit file extension
      # - "secrets/location/%{facts.whereami}.eyaml"
      # - "common.eyaml"
    # options:
      # pkcs7_private_key: /etc/puppetlabs/puppet/eyaml/private_key.pkcs7.pem
      # pkcs7_public_key:  /etc/puppetlabs/puppet/eyaml/public_key.pkcs7.pem
  - name: os.name
    path: "%{facts.os.name}.yaml"
  - name: os.family
    path: "%{facts.os.family}.yaml"
  - name: os.platform
    paths:
      - "%{facts.kernel}.yaml"
      - unix.yaml
  - name: common
    path: common.yaml
